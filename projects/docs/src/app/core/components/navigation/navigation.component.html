@switch (currentDevice()) {
  @case ('mobile') {
    <button r-button variant="outlined" (click)="isMenuVisible.set(true)">
      {{ actualRouteData()?.['title'] }}
      <div class="chevron-wrapper">
        <i r-icon icon="ChevronUp" [size]="12" class="icon-chevron-up"></i>
        <i r-icon icon="ChevronDown" [size]="12" class="icon-chevron-down"></i>
      </div>
    </button>
    <r-bottom-sheet [(isOpen)]="isMenuVisible" height="65dvh">
      <ng-container *ngTemplateOutlet="componentsList" />
    </r-bottom-sheet>
    <r-bottom-sheet [(isOpen)]="isThemeConfigVisible" height="65dvh">
      <ng-container *ngTemplateOutlet="themeConfigurator" />
    </r-bottom-sheet>
  }
  @case ('tablet') {
    <r-side-sheet [(isOpen)]="isMenuVisible" side="left">
      <ng-container *ngTemplateOutlet="componentsList" />
    </r-side-sheet>
  }
  @case ('desktop') {
    <ng-container *ngTemplateOutlet="componentsList" />
  }
}
@if (currentDevice() !== 'mobile') {
  <r-side-sheet [(isOpen)]="isThemeConfigVisible" side="right" width="400px">
    <ng-container *ngTemplateOutlet="themeConfigurator" />
  </r-side-sheet>
}
<ng-template #componentsList>
  <div class="components-list">
    <!-- Top Level Routes -->
    <r-tree>
      @for (route of topLevelRoutes(); track route) {
        <r-tree-node
          [routerLink]="route.path"
          [routerLinkActive]="['active']"
          (click)="isMenuVisible.set(false)">
          {{ route.data?.['title'] }}
          @if (route.badge) {
            <span r-badge variant="outlined" size="small">{{
              route.badge
            }}</span>
          }
        </r-tree-node>
      }
    </r-tree>
    <!-- Components Routes -->
    <span class="section">COMPONENTS</span>
    <r-tree>
      @for (route of componentsRoutes(); track route) {
        <r-tree-node
          [routerLink]="'components/' + route.path"
          [routerLinkActive]="['active']"
          (click)="isMenuVisible.set(false)">
          {{ route.data?.['title'] }}
          @if (route.badge) {
            <span r-badge variant="outlined" size="small">{{
              route.badge
            }}</span>
          }
        </r-tree-node>
      }
    </r-tree>
  </div>
</ng-template>

<ng-template #themeConfigurator>
  <app-theme-configurator />
</ng-template>
